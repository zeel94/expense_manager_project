{% extends 'navbar.html' %}

{% block content %}


{% load static %}
<div class="main-panel">
  <div class="content-wrapper">
    <div class="row">
      <div class="col-sm-12 mb-4 mb-xl-0">
        <h4 class="font-weight-bold text-dark">Hi, welcome {{user.username}}!</h4>
        <!-- <h4 class="font-weight-normal mb-2 text-muted"><b>List</b></h4> -->
      </div>
    </div>
    <div class="card-body">
      <!-- <h4 class="card-title">Horizontal Form</h4>
      <p class="card-description">
        Horizontal form layout
      </p> -->
      <form class="forms-sample">            

        <div class="col-md-8">
          <div class="card mb-3">
            <div class="card-body">
              <h4 class="d-flex align-items-center mb-3" style="color: #4B49AC;">
                  Expense Details
              </h4>
              <br>
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">Amount</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <strong style="color: black;">{{expensedetail.amount}}</strong>
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">Date</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                 <strong style="color: black;">{{expensedetail.expdate}}</strong> 
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">Category</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <strong style="color: black;">{{expensedetail.category}}</strong>
                </div>
              </div>
              <hr>
              <div class="row">
                  <div class="col-sm-3">
                    <h6 class="mb-0">SubCategory</h6>
                  </div>
                  <div class="col-sm-9 text-secondary">
                    <strong style="color: black;">{{expensedetail.subcategory}}</strong>
                  </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">PaymentMethod</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <strong style="color: black;">{{expensedetail.paymentMethod}}</strong>
                </div>
              </div>
              <hr>
              <div class="row">
                  <div class="col-sm-3">
                    <h6 class="mb-0">Description</h6>
                  </div>
                  <div class="col-sm-9 text-secondary">
                    <strong style="color: black;">{{expensedetail.description}}</strong>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-12">
                      <a class="btn btn-info " href="{% url 'expenseupdate' expensedetail.id %}">Edit</a>
                    </div>
                  </div>
  
                </div>
            </div>
          </div>
      </div>      
    </form>
    </div>
  <div>
    <canvas id="myChart" ></canvas>
  </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
      const chart_labels = {{ chart_labels|safe }};
      const chart_data = {{ chart_data|safe }};
    
      const data = {
        labels: chart_labels.labels,
        datasets: [{
          label: 'Expenses',
          data: chart_data.data,
          backgroundColor: 'rgba(54, 162, 235, 0.2)',
          borderColor: 'rgb(54, 162, 235)',
          borderWidth: 1
        }]
      };
    
      const config = {
        type: 'bar',
        data: data,
        options: {
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      };
    
      var myChart = new Chart(
        document.getElementById('myChart'),
        config
      );
    </script>              
    
    <div class="row">
              
            </div>
        </div>
            
          </div>
        </div>
        <div class="col-xl-4 grid-margin stretch-card">
          
        </div>
    </div>
    <div class="row">
      <div class="col-xl-9 grid-margin-lg-0 grid-margin stretch-card">
        </div>
      <div class="col-xl-3 grid-margin-lg-0 grid-margin stretch-card">
        
      </div>
    </div>
  </div>
  <!-- content-wrapper ends -->
  <!-- partial:partials/_footer.html -->
  <footer class="footer">
    <div class="d-sm-flex justify-content-center justify-content-sm-between">
      <span class="text-muted d-block text-center text-sm-left d-sm-inline-block">Copyright Â© expense_manager.com 2023</span>
      <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center"> Manage <a href="#">your financial budget</a> with exapanse_manager.com </span>
    </div>
  </footer>
  <!-- partial -->
</div>
<!-- main-panel ends -->
</div>
{% endblock %}